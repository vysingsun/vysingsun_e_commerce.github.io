import{m as _,o as i,c,b as n,a as t,F as u,r as p,t as a,w as m,d as h,i as d,x as f,y as x}from"./index-74578a79.js";const g={class:"flex w-[30%] m-auto gap-5"},y={class:"flex my-10 h-full w-full flex-col justify-center bg-white shadow-xl"},v={class:"flex-1 overflow-y-auto px-4 py-6"},b=t("h2",{class:"text-lg font-medium text-gray-900",id:"slide-over-title"},"Shopping cart",-1),w={class:"mt-8"},S={class:"flow-root"},C={class:"flex py-6"},j={class:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200"},k=["src"],F={class:"ml-4 flex flex-1 flex-col"},$={class:"flex justify-between text-base font-medium text-gray-900"},z={href:"#"},A={class:"ml-4"},N={class:"mt-1 text-sm text-gray-500"},V={class:"flex flex-1 items-end justify-between text-sm"},q={class:"text-gray-500"},B={class:"flex"},L=["onClick"],R={class:"border-t border-gray-200 px-4 py-6 sm:px-6"},D={class:"flex justify-between text-base font-medium text-gray-900"},E=t("p",null,"Subtotal",-1),O=t("p",{class:"mt-0.5 text-sm text-gray-500"},"Shipping and taxes calculated at checkout.",-1),P=t("a",{class:"mt-6 flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700"},"Checkout",-1),U=t("div",{class:"mt-6 flex justify-center text-center text-sm text-gray-500"},[t("p",null,[h(" or "),t("button",{type:"button",class:"font-medium text-indigo-600 hover:text-indigo-500"},[h(" Continue Shopping "),t("span",{"aria-hidden":"true"}," â†’")])])],-1),I={data(){return{array:[],cards:[],serverUrl:"http://localhost:3001/static/",products:[]}},created(){this.getAllCard()},methods:{async getAllCard(){await d.get("http://localhost:3001/card/all").then(async e=>{this.cards=await e.data.data})},async storeData(){const e=[];for(const s of this.cards){const r=await d.post("http://localhost:3001/order/create",s).then(l=>l.data.data._id).catch(l=>(console.error("Error while storing data:",l),null));console.log(await r),e.push(r)}localStorage.setItem("promises",JSON.stringify(e))},removeProductFromCard(e){d.post(`http://localhost:3001/card/delete/${e}`).then(s=>{this.getAllCard()})},calculateSubtotal(){let e=0;for(const s of this.cards)console.log(s.quantity,s.product.price),e=e+parseFloat(s.quantity)*parseFloat(s.product.price),this.$store.commit("setSubtotal",e);return e}}},T=Object.assign(I,{__name:"cardView",setup(e){return(s,r)=>{const l=_("RouterLink");return i(),c(u,null,[n(f),t("div",g,[t("div",y,[t("div",v,[b,t("div",w,[t("div",S,[(i(!0),c(u,null,p(s.cards,o=>(i(),c("ul",{key:o._id,role:"list",class:"-my-6 divide-y divide-gray-200"},[t("li",C,[t("div",j,[t("img",{src:s.serverUrl+o.product.image,alt:"Salmon orange fabric pouch with match zipper, gray zipper pull, and adjustable hip belt.",class:"h-full w-full object-cover object-center"},null,8,k)]),t("div",F,[t("div",null,[t("div",$,[t("h3",null,[t("div",null,a(o.createdAt),1),t("a",z,a(o.product.title),1)]),t("p",A,"$"+a(o.product.price),1)]),t("p",N,"Size: "+a(o.size.size),1)]),t("div",V,[t("p",q,"Qty "+a(o.quantity),1),t("div",B,[t("button",{onClick:J=>s.removeProductFromCard(o._id),class:"font-medium text-indigo-600 hover:text-indigo-500"},"Remove",8,L)])])])])]))),128))])])]),t("div",R,[t("div",D,[E,t("p",null,"$"+a(s.calculateSubtotal()),1)]),O,n(l,{to:"/order",class:"mt-6"},{default:m(()=>[P]),_:1}),U])])]),n(x)],64)}}});export{T as default};
